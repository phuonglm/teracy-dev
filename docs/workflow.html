<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Workflow &mdash; teracy-dev 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.png"/>
    <link rel="top" title="teracy-dev 0.0.1 documentation" href="index.html" />
    <link rel="next" title="Git Training" href="git_training.html" />
    <link rel="prev" title="Style Standards" href="style_standards.html" />
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-42868657-2', 'teracy.org');
      ga('send', 'pageview');

    </script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="git_training.html" title="Git Training"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="style_standards.html" title="Style Standards"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">teracy-dev 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="workflow">
<h1>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h1>
<p>At Teracy, we care about the workflow that makes it as much consistent and fun as possible, take
less time with higher quality of work.</p>
<p>We adopted <a class="reference external" href="http://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model</a> for our development workflow with some specific
rules. What&#8217;s the fun with a game without rules :-D?</p>
<div class="section" id="quality-checklist">
<h2>Quality checklist<a class="headerlink" href="#quality-checklist" title="Permalink to this headline">¶</a></h2>
<p>Quality of work must be strictly defined with rules and measurements, especially with software
quality.</p>
<p>Any work is accepted as good enough MUST meet the following (including but not limited) requirements
of <tt class="docutils literal"><span class="pre">quality</span> <span class="pre">checklist</span></tt>:</p>
<blockquote>
<div><ul class="simple">
<li>no tab character</li>
<li>length of the text/code line within 100 characters.</li>
<li>follow conventions and standardsde</li>
<li>any tests must be done and must be passed</li>
<li>any documentation must be updated</li>
<li>the implementation must be good enough from the view of collaborators</li>
</ul>
</div></blockquote>
<p>We use many automatic tools to detect and reports the quality. Trust me, your work will be better
and better over time.</p>
</div>
<div class="section" id="git-commit-messages">
<h2>Git commit messages<a class="headerlink" href="#git-commit-messages" title="Permalink to this headline">¶</a></h2>
<p>Git commit message must convey the actual change/ work of that commit. Usually, the commit message
should follow the convention pattern:</p>
<div class="highlight-python"><pre>&lt;issue_title&gt;: &lt;changes description&gt; [#&lt;issueNumber&gt;]

&lt;Multi-line description for detail changes, notices, solutions, etc.&gt;</pre>
</div>
<p>For example:</p>
<div class="highlight-python"><pre>Auto deployment with Fabric [#1]

Fabric deployment should be very easy to deploy on both local and remote machine.
This is the work on local part.</pre>
</div>
</div>
<div class="section" id="git-branching-off">
<h2>Git branching off<a class="headerlink" href="#git-branching-off" title="Permalink to this headline">¶</a></h2>
<p>Usually, a new branch should be branched off from target to-be-merged remote branch.
It&#8217;s usually <em>upstream/develop</em>. However, there are cases that it does not apply:</p>
<ul class="simple">
<li>Your work depends on a branch other than <em>upstream/develop</em>, feel free to branch off from that</li>
</ul>
<p>branch. However, keep in mind that you need to rebase often the work of that dependent branch to
your working branch. After that dependent branch is merged ino <em>upstream/develop</em>, you need to
rebase on <em>upstream/develop</em> to continue working so that we could avoid too many conflicts to
resolve if any.</p>
<p>This is the demonstration example: <em>phuonglm</em> is working on
feature_1_fabric_deployment_virtual_machine, and you&#8217;re going to work on
feature_2_fabric_deployment_remote_machine, it depends on phuonglm&#8217;s feature_1. On this case, you
MUST indicate the branch name with <tt class="docutils literal"><span class="pre">deps_&lt;issueNumber&gt;</span></tt>.</p>
<div class="highlight-python"><pre>$ git remote add phuonglm https://github.com/phuonglm/teracy-django-boilerplate.git
$ git fetch phuonglm
$ git checkout phuonglm/feature_1_fabric_deployment_virtual_machine -b feature_2_fabric_deployment_remote_machine_deps_1
$ git push origin feature_2_fabric_deployment_remote_machine_deps_1</pre>
</div>
<p>After sometime of work, phuonglm&#8217;s feature_1_fabric_deployment_virtual_machine has some updates.</p>
<div class="highlight-python"><pre>$ git fetch phuonglm
$ git rebase phuonglm/feature_1_fabric_deployment_virtual_machine
$ git push origin feature_2_fabric_deployment_remote_machine_deps_1 -f</pre>
</div>
<p>When phuonglm&#8217;s feature_1 is merged into <em>upstream/develop</em>, you need to rebase on it to get
these new updates:</p>
<div class="highlight-python"><pre>$ git fetch upstream
$ git rebase upstream/develop
$ git push origin feature_2_fabric_deployment_remote_machine_deps_1 -f</pre>
</div>
<p>Git is a distributed version control system, so collaboration like this should be encouraged.</p>
</div>
<div class="section" id="git-force-push">
<h2>Git force push<a class="headerlink" href="#git-force-push" title="Permalink to this headline">¶</a></h2>
<p>Should not <tt class="docutils literal"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">branch_name</span> <span class="pre">-f</span></tt> if your branch has another branch depending on.</p>
<p>NEVER ever force push the <em>official repository</em>.</p>
</div>
<div class="section" id="git-branch-cleaning-up">
<h2>Git branch cleaning up<a class="headerlink" href="#git-branch-cleaning-up" title="Permalink to this headline">¶</a></h2>
<p>After your working branch is merged back into official repository, make sure to delete these
working branches.</p>
<p>Delete remote branch:</p>
<div class="highlight-python"><pre>$ git push origin :branch_name</pre>
</div>
<p>Delete local branch:</p>
<div class="highlight-python"><pre>$ git checkout master
$ git branch -d branch_name</pre>
</div>
<p>Let&#8217;s take a ride on actual workflow.</p>
</div>
<div class="section" id="first-initialize-working-repositories">
<h2>First, initialize working repositories<a class="headerlink" href="#first-initialize-working-repositories" title="Permalink to this headline">¶</a></h2>
<p>To start working on a repository project, <tt class="docutils literal"><span class="pre">fork</span></tt> it first to your git account.</p>
<p>Your working repositories MUST cloned from your git account and put under <tt class="docutils literal"><span class="pre">workspace/personal</span></tt>
directory.</p>
<p>For example, you&#8217;re going to work on <a class="reference external" href="https://github.com/teracy-official/teracy-django-boilerplate">https://github.com/teracy-official/teracy-django-boilerplate</a>
project, so follow the steps to follow:</p>
<p>1. <tt class="docutils literal"><span class="pre">Fork</span></tt> the official repository to your github account.
Mine should be <a class="reference external" href="https://github.com/hoatle/teracy-django-boilerplate">https://github.com/hoatle/teracy-django-boilerplate</a></p>
<p>2. <tt class="docutils literal"><span class="pre">Clone</span></tt> it to your <tt class="docutils literal"><span class="pre">personal</span></tt> workspace.</p>
<div class="highlight-python"><pre>$ ws
$ cd personal
$ git clone git@github.com/hoatle/teracy-django-boilerplate.git</pre>
</div>
<p>3. Add <tt class="docutils literal"><span class="pre">upstream</span></tt> repository (the official repository).</p>
<div class="highlight-python"><pre>$ git remote add upstream https://github.com/teracy-official/teracy-django-boilerplate.git</pre>
</div>
</div>
<div class="section" id="work-on-features-enhancements-improvements">
<h2>Work on features/ enhancements/ improvements<a class="headerlink" href="#work-on-features-enhancements-improvements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>To start a new feature, you MUST branch off from the latest <tt class="docutils literal"><span class="pre">upstream/develop</span></tt> branch with a</li>
</ul>
<p>name of the pattern: <tt class="docutils literal"><span class="pre">feature_&lt;issueNumber&gt;_&lt;concise_title&gt;</span></tt>. The title must be concise as much
as possible, then <tt class="docutils literal"><span class="pre">push</span></tt> that branch to your repository.</p>
<ul class="simple">
<li>To start a new enhancement, start a new branch with a name of the pattern:</li>
</ul>
<p><tt class="docutils literal"><span class="pre">enhance_&lt;issueNumber&gt;_&lt;concise_title&gt;</span></tt>.</p>
<ul class="simple">
<li>To start a new improvement, start a new branch with a name of the pattern:</li>
</ul>
<p><tt class="docutils literal"><span class="pre">improve_&lt;issueNumber&gt;_&lt;concise_title&gt;</span></tt>.</p>
<p>For example, you&#8217;re going to work on the issue #1 with title: &#8220;auto deployment with fabric&#8221; of type
&#8220;feature&#8221;:</p>
<div class="highlight-python"><pre>$ ws
$ cd personal/teracy-django-boilerplate
$ git fetch upstream
$ git checkout upstream/develop -b feature_1_auto_fabric_deployment
$ git push origin feature_1_auto_fabric_deployment</pre>
</div>
<ul class="simple">
<li>Now you&#8217;re on <tt class="docutils literal"><span class="pre">feature_1_auto_fabric_deployment</span></tt> branch, just <tt class="docutils literal"><span class="pre">focus</span></tt> working on it,</li>
</ul>
<p><tt class="docutils literal"><span class="pre">commit</span></tt> and <tt class="docutils literal"><span class="pre">push</span></tt> as often as possible. Sometimes you need to get updates from
<tt class="docutils literal"><span class="pre">upstream/develop</span></tt>, so you need to rebase on it.</p>
<div class="highlight-python"><pre>$ git fetch upstream
$ git rebase upstream/develop</pre>
</div>
<p>Resolve any conflicts and continue with <tt class="docutils literal"><span class="pre">focus</span></tt>, <tt class="docutils literal"><span class="pre">commit</span></tt> and <tt class="docutils literal"><span class="pre">push</span></tt> as often as possible.</p>
<ul class="simple">
<li>When the feature is ready to ship, rebase on <tt class="docutils literal"><span class="pre">upstream/develop</span></tt> again, reorganize the commits</li>
</ul>
<p>as logical as possible and make a <tt class="docutils literal"><span class="pre">pull</span></tt> request to the official repository with target merging
branch. You will get tons of comments, suggestions and you need to continue working on it to make it
good enough to be merged into <tt class="docutils literal"><span class="pre">upstream/develop</span></tt> branch.</p>
<p>Before making a pull request, make sure your work must meet the <strong>quality checklist</strong>.</p>
<p>Note: After a <tt class="docutils literal"><span class="pre">pull</span></tt> request, you will continue to work on your working branch as normal, just
<tt class="docutils literal"><span class="pre">push</span></tt> it and the pull request will be updated with your new commits. Ping other Teracier to
help reviewing, comments, suggestions, etc.</p>
<p>After all these long strict requirements that you meet, your work will be more welcomed accepted.
Congratulations, let&#8217;s get some beer then :-).</p>
</div>
<div class="section" id="work-on-bugs">
<h2>Work on bugs<a class="headerlink" href="#work-on-bugs" title="Permalink to this headline">¶</a></h2>
<p>Before doing anything, try to <strong>reproduce</strong> the bug. If the bug is hard to reproduce, try to get
some blind clues. If you could not see how to <em>reproduce</em> the bug or any clue about it, report it
to your supervisor collaborators to get suggestions and directions.</p>
<p>If you could <strong>reproduce</strong> the bug, start branching off the <em>buggy</em> branch with a name of the
pattern: <tt class="docutils literal"><span class="pre">bug_&lt;issueNumber&gt;_&lt;concise_title&gt;</span></tt>. Try to <strong>add tests</strong> to reproduce the bug and pass
it.</p>
<p>For example, you&#8217;re going to work on a bug issue #2 with the title: &#8220;fabric does not work on Mac
OSX&#8221; with expected fix for <em>upstream/develop</em> branch.</p>
<div class="highlight-python"><pre>$ ws
$ cd personal/teracy-django-boilerplate
$ git fetch upstream
$ git checkout upstream/develop -b bug_2_fabric_not_work_mac_osx
$ git push origin bug_2_fabric_not_work_mac_osx</pre>
</div>
<p><tt class="docutils literal"><span class="pre">focus</span></tt>, <tt class="docutils literal"><span class="pre">commit</span></tt> and <tt class="docutils literal"><span class="pre">push</span></tt> as often as possible. After the work is done, make a pull
request.</p>
</div>
<div class="section" id="work-on-critical-bugs">
<h2>Work on <strong>critical</strong> bugs<a class="headerlink" href="#work-on-critical-bugs" title="Permalink to this headline">¶</a></h2>
<p>These kind of bugs need hot-fix as it has <em>very high priority</em>.</p>
<p>Branch off a branch from the branch that needs hot-fix with a name of the pattern:
<tt class="docutils literal"><span class="pre">hot-fix_&lt;issueNumber&gt;_&lt;concise_title&gt;</span></tt></p>
<p>For example, you&#8217;re going to work on a critical bug issue #3 with the title: &#8220;fabric causes the
remote server crashed!!!&#8221; with expected fix for <em>upstream/master</em> branch:</p>
<div class="highlight-python"><pre>$ ws
$ cd personal/teracy-django-boilerplate
$ git fetch upstream
$ git checkout upstream/master -b hot-fix_3_fabric_crashes_remote_server
$ git push origin hot-fix_3_fabric_crashes_remote_server</pre>
</div>
<p>Fix it as fast as possible with <em>really good tests</em>, you must make sure there should not have any
<em>regression</em>, then make a pull request to target merging branch.</p>
</div>
<div class="section" id="official-branch-s-merging-and-releasing">
<h2>Official branch&#8217;s merging and releasing<a class="headerlink" href="#official-branch-s-merging-and-releasing" title="Permalink to this headline">¶</a></h2>
<p>With branch merging and releasing workflow, <em>senior</em> collaborators must follow the git branching
model as mentioned by the article above.</p>
<p>As the merging, pushing must be done on official teracy&#8217;s projects, so you need to clone projects
into <tt class="docutils literal"><span class="pre">workspace/teracy</span></tt> directory.</p>
<p>For example, you need to merge the work of <em>feature_1_auto_fabric_deployment</em> branch from
<a class="reference external" href="https://github.com/hoatle/teracy-django-boilerplate">https://github.com/hoatle/teracy-django-boilerplate</a></p>
<div class="highlight-python"><pre>$ ws
$ cd teracy
$ git clone git@github.com/teracy-official/teracy-django-boilerplate.git
$ cd teracy
$ git fetch origin
$ git checkout origin/develop
$ git remote add hoatle https://github.com/hoatle/teracy-django-boilerplate.git
$ git fetch hoatle
$ git git merge --no-ff hoatle/feature_1_auto_fabric_deployment
$ git push origin develop</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Workflow</a><ul>
<li><a class="reference internal" href="#quality-checklist">Quality checklist</a></li>
<li><a class="reference internal" href="#git-commit-messages">Git commit messages</a></li>
<li><a class="reference internal" href="#git-branching-off">Git branching off</a></li>
<li><a class="reference internal" href="#git-force-push">Git force push</a></li>
<li><a class="reference internal" href="#git-branch-cleaning-up">Git branch cleaning up</a></li>
<li><a class="reference internal" href="#first-initialize-working-repositories">First, initialize working repositories</a></li>
<li><a class="reference internal" href="#work-on-features-enhancements-improvements">Work on features/ enhancements/ improvements</a></li>
<li><a class="reference internal" href="#work-on-bugs">Work on bugs</a></li>
<li><a class="reference internal" href="#work-on-critical-bugs">Work on <strong>critical</strong> bugs</a></li>
<li><a class="reference internal" href="#official-branch-s-merging-and-releasing">Official branch&#8217;s merging and releasing</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="style_standards.html"
                        title="previous chapter">Style Standards</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="git_training.html"
                        title="next chapter">Git Training</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/workflow.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="git_training.html" title="Git Training"
             >next</a> |</li>
        <li class="right" >
          <a href="style_standards.html" title="Style Standards"
             >previous</a> |</li>
        <li><a href="index.html">teracy-dev 0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Teracy.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>